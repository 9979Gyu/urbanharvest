<!DOCTYPE html>
<html>
    <head>
        <title>Urban Harvest-Booking</title>
        <link rel="icon" href="/student/bitm/b032220008/urbanharvest/assets/img/logo.png"/>
        <link rel="stylesheet" href="/student/bitm/b032220008/urbanharvest/css/style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="/student/bitm/b032220008/urbanharvest/js/script.js"></script>

        <script>
            $(document).ready(function () {
                var savedName = localStorage.getItem("gardenName");
                var savedPlot = localStorage.getItem("plotNo");
                var savedAddress = localStorage.getItem("gardenAddress");
                var savedBookDT = localStorage.getItem("bookDT");
                var savedBookExpired = localStorage.getItem("bookExpired");
                var savedYear = localStorage.getItem("bookYear");

                // Check if there is saved data
                if (savedName && savedPlot && savedAddress && savedYear && savedBookDT) {
                    // Display the saved data in your HTML elements

                    $("span[id='gardenName']").html(savedName);
                    $("span[id='plotNo']").html(savedPlot);
                    $("span[id='gardenAddress']").html(savedAddress);
                    $("span[id='bookDT']").html(savedBookDT);
                    $("span[id='bookYear']").html(savedYear);
                    $("span[id='bookExpired']").html(savedBookExpired);
                    $("span[id='bookApproval']").html(localStorage.getItem("bookApproval"));
                    $("span[id='paymentStatus']").html(localStorage.getItem("paymentStatus"));
                    $("span[id='amount']").html(parseInt(savedYear) * 50);
                    $("span[id='payAmount']").html(localStorage.getItem("payAmount"));
                    $("span[id='balance']").html(localStorage.getItem("balance"));
                    $("span[id='payDT']").html(localStorage.getItem("payDT"));

                } 
            });

        </script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="/student/bitm/b032220008/urbanharvest/index.html">Home</a></li>
                    <li>
                        <a href="#">Garden</a>
                    </li>
                    <li>
                        <a href="process.html">Booking</a>
                    </li>
                    <li>
                        <a href="#">User</a>
                    </li>
                    <!-- <li><a href="#"><img src="/assets/img/user.png"/></a></li> -->
                    <li><a href="#"><i class="fas fa-user"></i></a></li>
                </ul>
            </nav>
        </header>
        <section class="wrapper">
            <h1 class="title">Booking Details</h1>
            <article>
                <p class="message"></p>
            </article>
            <article id="mainContent" style="margin-bottom: 50px;">
                <form id="bookPlot">
                    <table class="mainTable">
                        <tbody>
                            <tr>
                                <th colspan="2">Garden</th>
                            </tr>
                            <tr>
                                <th>Name:</th>
                                <td>
                                    <span id="gardenName"></span>
                                </td>
                            </tr>
                            <tr>
                                <th>Plot No:</th>
                                <td>
                                    <span id="plotNo"></span>
                                </td>
                            </tr>
                            <tr>
                                <th>Address:</th>
                                <td>
                                    <span id="gardenAddress"></span>
                                </td>
                            </tr>
                        </tbody>
                        
                        <tbody>
                            <tr>
                                <th colspan="2">Booking</th>
                            </tr>
                            <tr>
                                <th>Approval:</th>
                                <th>
                                    <span id="bookApproval">Pending</span>
                                </th>
                            </tr>
                            <tr>
                                <th>Date Time:</th>
                                <td>
                                    <span id="bookDT"></span>
                                </td>
                            </tr>
                            <tr>
                                <th>Use Year (Maximum is 2):</th>
                                <td>
                                    <span id="bookYear"></span>
                                </td>
                            </tr>
                            <tr>
                                <th>Expired:</th>
                                <td>
                                    <span id="bookExpired"></span>
                                </td>
                            </tr>
                        </tbody>

                        <tbody>
                            <tr>
                                <th colspan="2">Payment</th>
                            </tr>
                            <tr>
                                <th>Status:</th>
                                <th>
                                    <span id="paymentStatus">Pending</span>
                                </th>
                            </tr>
                            <tr>
                                <th>Amount (RM 50/year):</th>
                                <td>
                                    <span id="amount"></span>
                                </td>
                            </tr>
                            <tr class="amount">
                                <th>Pay Amount (RM):</th>
                                <td>
                                    <span id="payAmount"></span>
                                </td>
                            </tr>
                            <tr class="amount">
                                <th>Balance (RM):</th>
                                <td>
                                    <span id="balance"></span>
                                </td>
                            </tr>
                            <tr class="amount">
                                <th>Date Time:</th>
                                <td>
                                    <span id="payDT"></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form> 
            </article>

        </section>
        <footer>
            Copyright &copy; ConnectTheDots | 2023
        </footer>
    </body>
</html>